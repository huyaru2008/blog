## 目标公司

企业名称：上海悠星网络
主营业务：二次元游戏海外代理（明日方舟、碧蓝航线等比较知名）、自研产品

## JD

岗位职责：

1. 负责公司平台项目的研发工作；
2. 与产品经理和视觉交互设计师合作，配合后端工程师完成产品的开发和优化工作；
3. 负责前端基础架构、组件抽象，拓展产品边界；
4. 持续优化前端相关的框架和工具，提升部门开发体验。

任职资格：

1. 两年以上Web前端开发经验（能力突出，不受此限制）；

2. 深刻理解Web标准，精通各种前端技术;

3. 熟悉浏览器工作原理，前端性能、可访问性、可维护性等方面的实践经验；

4. 熟悉前端工程化与模块化开发，并有实践经验;

5. 对用户体验、交互操作流程及用户需求有深入理解，重视代码的标准和规范；

6. 具备良好的团队合作精神和沟通能力，能够与团队成员愉快的相处并共同完成工作目标。
   
   加分项：

7. 了解后端技术栈；

8. 了解运维部署相关工作；

9. 有 Vue3，TypeScript，ant-design 开发经验优先。

## 技术点准备

### 浏览器工作原理

在浏览器输入 URL 并回车后，为了把 `URL 解析为 IP` 地址，浏览器会向 DNS 服务器发起 DNS 查询，获取 IP 地址。然后浏览器`通过 IP 地址找到目标服务器`，`发起 TCP 三次握手和 TLS 协商，从而建立起 TCP 连接`。

在建立连接后，浏览器就可以发起 HTTP 请求，而服务端接收到后，对请求进行响应。浏览器从响应结果中拿到数据，并进行 `解析和渲染`，最后在用户面前就出现了一个网页。

#### 解析和渲染过程

1. 字节流解码：浏览器通过http协议接收到的文档内容是字节数据，当浏览器得到字节数据后，通过“编码嗅觉算法”来确定字符编码，然后根据字符编码将字节流数据进行解码，生成html字符数据。
2. 输入流预处理：通过字节流解码得到字符数据后，在进入解析环节之前还需要进行一些预处理操作，比如将换行符转换为统一的格式，最终生成规范化的字符流数据，即统一字符，把字符数据进行统一格式化的过程称之为“输入流预处理”
3. 令牌化：开始进入解析预处理后的字符流步骤，将字符数据经过解析算法转化成令牌结构。
4. 构建DOM树：
   浏览器在创建解析器的同时会创建一个Document对象，标记步骤产生的令牌会被送到树构建起进行处理。html5标准中定义了每类令牌对应的dom元素，当树构建器接收到某个令牌时就会创建该令牌对应的DOM元素并将该元素插入到DOM树中。
   渲染引擎除了解析HTML外，还需要解析css。css解析过程与html解析过程步骤一直，最终也会生成树状结构。cssom树的节点具有继承特性，会先继承父节点样式作为当前样式，然后再进行补充或覆盖。
5. 构建渲染树：为了更方便的渲染，dom树与cssom树需要合并为一颗渲染树。这个过程会从dom树的根节点开始便利，然后在cssom树上找到每个节点对应的样式。最终生成一颗渲染树。
   dom树遍历过程中会自动忽略不需要渲染的节点（如：脚本标记、元标记等）以及不可见的节点。同时也会将一些需要显示的伪类元素加到渲染树中。
6. 布局：布局就是计算元素的大小及位置。布局完成后会输出对应的“盒模型”，它会精确地补货每个元素的确切位置和大小，将所有制都转换为屏幕上的绝对像素。
7. 绘制：绘制就是将渲染树中的每个节点转换成屏幕上的实际像素的过程，渲染引擎得到布局树后，会先遍历布局树（获取绘制顺序，生成不同图层，最终再进行图层合并），生成绘制记录，根据绘制记录去绘制相应的内容。

#### TCP三次握手

TCP 三次握手是建立 TCP 连接的过程中所使用的一种协议，其原理如下：
第一次握手：客户端发送 SYN 包，即 SYN=1, ACK=0，同时随机生成一个初始序列号 seq=x，**表示想要建立连接**，并请求确认对方是否能响应。这个 SYN 包是不携带数据的，**仅是表示要建立连接**。

第二次握手：服务器收到客户端的 SYN 包后，如果可以响应，则会发送 SYN+ACK 包，即 SYN=1, ACK=1，携带确认号 ack=y+1，以及自己的初始序列号 seq=y，**表示可以建立连接**，**并请求确认客户端是否接收到了该 SYN+ACK 包。**

第三次握手：客户端收到服务器的 SYN+ACK 包后，会发送确认包 ACK，即 ACK=1，携带确认号 ack=x+1，**表示自己已经接收到了服务器的确认，并请求建立连接。**

TCP 三次握手过程中，客户端和服务器都会发送 SYN 包、SYN+ACK 包、ACK 包，以建立一个可靠的连接。这种协议可以保证建立连接的双方都能够正确地发送和接收数据，并且可以避免网络中出现的重复数据和丢失数据等问题。

### 前端性能优化

#### 简单做法

1. 精简首屏内容

2. 合并了请求资源

3. 对图片尺寸进行压缩优化

#### 从URL输入到页面加载的过程进行分析

##### 客户端发起请求阶段

是指用户在浏览器输入 URL，经过本地缓存确认是否已经存在这个网站，如果没有，接着会由 DNS 查询从域名服务器获取这个 IP 地址，接下来就是客户端通过 TCP 的三次握手和**TLS**（TLS（Transport Layer Security）是一种通信协议，用于保障网络通信的安全性和隐私性）协商向服务器发起 HTTP 请求建立连接。

其中涉及到的性能优化点有，**本地缓存、DNS查询、HTTP 请求**。

**本地缓存**可以让静态资源加载更快，当客户端发起一个请求时，静态资源可以直接从客户端中获取，不需要再向服务器请求。
**DNS查询**需要经历从客户端到移动信号塔，再到认证 DNS 服务器的过程，需要耗费用户等待时间。 DNS 查询也可以缓存，可以通过两种方式进行DNS缓存配置，1.  **由 Web 服务器端在响应 HTTP 报文时添加 DNS 预读取**  2.**在 HTML 文件中添加 DNS 预读取** 这样真正请求时，DNS 域名解析可以检查一下浏览器缓存，一旦缓存命中，就不需要去 DNS 服务器查询了。

**HTTP 请求**阶段，最大的瓶颈点来源于请求阻塞。浏览器为保证访问速度，会默认对同一域下的资源保持一定的连接数，请求过多就会进行阻塞。一般浏览器最大并发请求数是6个，如果当前请求数多于 6 个，其余的需要等待之前的请求有返回后，才能做下一次请求。可适当运用域名散列，通过不同的域名，增加请求并行连接数，常见做法是，将静态服务器地址 pic.google.com，做成支持 pic0-5 的 6 个域名，每次请求时随机选一个域名地址进行请求。因为有 6 个域名同时可用，最多可以并行 36 个连接。

> 扩展：
> 在 DNS 缓存配置中，可以通过以下两种方式来进行配置：
> 
> 1. 由 Web 服务器端在响应 HTTP 报文时添加 DNS 预读取： 在服务器的 HTTP 响应报头（Header）中添加以下语句:
>    Link: <http://www.example.com>; rel=dns-prefetch
>    此时，当页面被加载时，浏览器会自动对 href 中指定的网站进行预解析，并将 DNS 记录保存到本地缓存中。在之后需要请求该网站时，浏览器就可以直接从本地缓存中获取 DNS 记录，避免了重复解析域名的过程，从而提高了页面加载速度。
> 
> 2. 在 HTML 文件中添加 DNS 预读取: 在网页的 HTML 文件中通过 <link> 标签来进行配置：
>    
>    <link rel="dns-prefetch" herf="http://www.example.com">
>    
>    <link rel="dns-prefetch" href="//www.example.com">

##### 服务端数据处理阶段

服务端数据处理阶段，是指 WebServer 接收到请求后，从**数据存储层取到数据，再返回给前端的过程**。

具体来说，服务端程序接收到 HTTP 请求后，会做一些**请求参数处理**以及**权限校验**。校验完成后，它会**将请求参数发送到数据存储服务**。然后服务端程序会**从数据存储中取到数据**，**进行数据加工聚合处理**，最后**再通过jsonp 或者ajax 接口返回给前端**。

其中涉及的前端性能点有：**数据缓存**、**重定向**

1. **数据缓存**可以借助 `Service Worker` 、**本地存储**（全量加载）以及`CDN`方案来实现接口数据接口缓存。

2. **重定向**分为三类：**服务端发挥的302重定向**，**META 标签实现的重定向**和前端 Javasript 通过`window.location `实现的重定向。重定向**会引发新的 DNS 查询，导致新的 TCP 三次握手和 TLS 协商，以及产生新的 HTTP 请求**。而这些都会导致请求过程中更多的时间，进而影响前端性能。

##### 页面解析和渲染方面

页面解析和渲染过程分为，1. 字节流解码；2. 输入流预处理；3. 令牌化； 4. 构建DOM树；5.构建渲染树； 6. 布局； 7. 绘制；

通常在**解析器构建 DOM 树与布局**的过程中会涉及较多关于性能优化的技术点。

1. 构建DOM有三点会影响前端性能：**当 HTML 标签不满足 Web 语义化时**（语法纠错耗时）、**DOM 节点的数量越多，构建 DOM 树的时间就会变长**、**文档中包含<SCRIPT> 标签**，外部脚本的加载时机要确定好，我们可以通过使用 defer （延迟加载）和 async，告诉浏览器在等待脚本下载期间不阻止解析过程，这样做可以明显提升性能。

2. **布局**计算都要作用于整个 DOM，如果元素量大，计算出所有元素的位置和尺寸会花很长的时间。所以需要注意减少重排和重绘的次数。

> 扩展：
> 
> 如何减少重排和重绘的次数？
> 
> 1. 避免频繁操作 DOM DOM 操作通常会触发重排和重绘，因此应该尽量减少 DOM 操作次数，可以通过缓存 DOM 节点和使用文档片段来减少操作次数。
> 
> 2. 注意 CSS 属性选择器的使用 CSS 属性选择器会影响整个页面的重排和重绘，因此应该避免使用通配符和后代选择器等影响范围较大的选择器，应该尽量使用 ID 和 class 等局部选择器。
> 
> 3. 减少页面布局计算次数 页面布局计算是重排操作的前置步骤，因此可以通过减少布局计算次数来减少重排的次数。可以将页面元素的尺寸和位置缓存起来，并在必要时进行更新。
> 
> 4. 使用 CSS3 动画替代 JavaScript 动画 CSS3 动画可以利用 GPU 加速，提高页面动画的性能。因此可以尽量使用 CSS3 动画替代使用 JavaScript 实现的动画效果。
> 
> 5. 减少页面重绘次数 页面重绘通常是由于 CSS 样式的变化引起的，因此可以优化 CSS 样式的使用，减少页面的重绘次数。可以将 CSS 样式集中在 head 标签中，避免多次加载和解析 CSS 样式表；还可以使用 CSS Sprites 、图像拼接等技术来优化页面的加载速度和性能。

3.可访问性
4.可维护性
5.前端工程化
6.前端模块化
7.对前端开发标准和规范的看法
8.后端技术栈：用nodejs实现用户增删查改
9.自动化部署CI/CD
10.vue3 常见面试题
11.typescript 常见面试题
12.ant-desion 了解下

## 面试准备

- 简历、自我介绍、项目介绍是整场面试的主线。
- 简历：决定了面试会出现哪些问题。
- 自我介绍、项目介绍决定了面试开始的提问。

## 自我练习

#### 留下好印象

1. 看到面试官主动问好，询问是否要从自我介绍开始。

### 自我介绍

> 问候语 + 姓名 + 年龄 + 毕业院校 + 工作年限 + 目标岗位 + 专业技能 + 上家经历 + 工作职责
> 你好，我叫李会欣，今年26岁，19年毕业于南阳理工学院软件工程专业，至今从事前端开发已经四年了，今天是来应聘前端开发一职。我的技术栈包含：vue3、typescript、nodejs、electron、web3D， 我在上家公司负责基于 vscode 源码的IDE前端开发工作，参与了IDE项目从零到一的搭建过程，实现了项目管理、模型库管理以及3D仿真的开发工作，其中还在组内实行了单元测试的引入、webpack构建优化、代码提交规范等完善开发流程的工作。以上就是我的基本介绍，如果你有其他需要了解的，我这边可以再做补充。

### 项目介绍

> 基本信息 + 项目背景 + 项目描述 + 技术架构 + 个人职责 + 技术亮点 + 结束语
> 项目背景：我上家公司主要的产品是工业机器人，并且提供产线系统集成服务，也就是在客户厂房安装机器人生产线装备并维护，整个过程存在大量的人工作业，所以产品线的维护成本很高，公司想要做出一套能够模拟产线上机器人系统集成的可视化交互工具，并且可结合机器人编程实现拓展为`集工业业务仿真与离线编程于一体的集成开发平台`，可作为整个工业机器人行业的一套解决方案。
> 基本信息：我所在的项目组的研发任务就是实现这样的一个IDE项目，用户可以使用我们的桌面应用选择创建一个机器人编程项目或者3D仿真应用程序或者自定义模型项目，机器人编程项目，目前3D仿真仅支持码垛场景，即通过threejs技术实现一个码垛场景，用户可以在场景中载入码垛场景所需的机器人，传送带，夹爪，托盘，运送工件等设备和工具，设置运动路径后根据机器算法模拟码垛流水线，并同步生成RPL机器人编程语言。
> 技术架构：这个项目底层使用了`vscode编辑器源码`，基于 `electron` 技术集成了`项目管理`功能，基于`vscode的扩展机制`实现了`3D仿真交互视窗`。
> 个人职责：我在项目中主要负责前期http请求封装，登录功能，项目管理，账户管理，消息通信，模型管理，部分3D业务场景实现，部分前端工程化搭建与规范约定，以及官网，文档网站搭建工作的推行实现
> 技术亮点：
> 结束语：以上就是我最近一个项目的大致情况，如果您有其他想了解的，可以再问我。

我从事前端开发工作已经四年的时间，我的目前的工作经历分为三个阶段，我就近往前叙述，1.现阶段，主要从事公司的自研IDE项目的前端开发工作，IDE项目是一个集编辑器、项目管理以及工业仿真为一体的桌面应用，底层使用vscode源码，涉及electron+typescript+node技术，编辑器部分即为vscode内核编辑器；项目管理平台是独立的基于vue3+typescript+elementUI+webpack实现web项目，通过electron技术中渲染进程概念，集成到整个IDE桌面应用中；工业仿真使用threejs+vue3，使用vscode源码中的扩展机制，作为vscode IDE 扩展集成到项目中。我参与了IDE项目从零到一的搭建工作，IDE登录模块的开发，基于axios的http请求封装，登录信息本地化存储，项目管理开发，文件上传下载，3D仿真业务开发，模型库管理与模型载入等一系列开发工作的完成，其中还为团队贡献了样式规范，引入了prettier格式化与eslint校验以及优化打包性能等，第二阶段：是19年六月到20年十月独立负责一家服装定制公司的自研商城项目，该项目集成了基于threejs的web3D技术，使用的技术栈是vue2全家桶+webpack，我完全负责了该项目从零到一的开发工作，使用vue脚手架+webpack+vue-router+vuex+threejs搭建了整个H5商城项目，与建模师协作制定了适合的模型的结构，成功实现了服装模型的视角切换、局部缩放、面料切换、款式切换等功能，当时刚进公司的时候也协助开发了基于微信小程序和reactNative商城APP的部分开发工作，第一阶段是校企合作工作室负责智慧学工系统的开发，基于layui框架做web前端开发工作，期间也负责企业h5应用开发，微信小程序sass商城开发等工作。以上就是我的前端开发工作经历，如果有对哪方面感兴趣的，可以进行提问。

### 婚育情况

有个男朋友，两个人未来打算在上海发展，这几年主要先关注自身成长，如果要结婚的话，想在工作和经济方面打下一定基础后再去考虑

### 为什么从上家公司离职

我目前所在的公司总部是在安徽芜湖，年后公司上层包括我目前所在的项目组都进行了比较大的变动，部门组织关系正在逐步转到安徽，但我未来打算要在上海发展，基于这样的需要，来寻求更好的发展机会。

### 如何看待加班

可以接受加班，如果有工作上的紧急需要的情况，出于职业责任感也会及时处理，对于其他的工作安排我会尽力在上班时间内完成任务

### 对面试官的提问

#### 对技术面试官官提问

1. 从面试情况来看，您觉得我的技术水平怎么样？是否可以胜任该岗位呢？
2. 如果我有幸入职贵公司，请问会如何安排我的工作呢？
3. 请问我们团队，未来半年，一年的工作重点是什么呢？
4. 团队目前所做的项目，技术栈，项目规模怎样呢？
5. 团队内的技术氛围怎么样？内部、外部技术交流的机会多吗？
6. 我应聘的这个岗位，团队人员配置如何？汇报对象是谁？核心工作有哪些？
7. 我这个岗位团队中的定位如何？在公司未来的发展路径是什么？
8. 如果我能有幸入职，基于我前面的面试表现，您认为还有哪些技术需要加强呢？

#### 对公司高层的提问

1. 如果我有幸入职，您最希望我解决的问题是什么？
2. 如果我入职公司，您期望我在工作上做出什么成果呢？
3. 请问公司目前的发展规划是什么？
4. 对于当前这个岗位，未来3~5年的职业规划，您有什么建议？

#### 对HR的提问

1.如果我有幸入职贵公司，会不会有入职，企业文化培训之类的呢？
2.请问贵公司的上下班时间是怎样的？
3.我想了解下，前面聊到的薪资，组成结构是什么样的呢？社保基数是按照实际薪资缴纳的吧？公积金缴纳基数是什么比例？是否有其他补贴或者年终奖
4.试用期是多久？试用期的工资怎么算？
5.一年有几次调薪机会呢？
6.请问贵公司的绩效考核机制是如何规划的呢？
7.请问入职后，平时的工作强度怎么样呢？